# クーポン・セール整理帳（Coupon Organizer）

## 1. アプリ概要

手元にあるクーポンやセール情報を一元管理し、  
有効期限や割引内容を簡単に確認・整理できるアプリ。  
クーポンの見逃しや期限切れを防ぎ、お得な買い物をサポートすることを目的とする。

---

## 2. 企画背景 / 課題

### 現状の課題

- 各種アプリやメールでクーポン・セール情報が散在し、管理が難しい
  - クーポンアプリ、ECサイト、メール、SNSなど、情報源が多岐にわたる
  - どこにどんなクーポンがあるか覚えていられない
- クーポンの有効期限を見逃して使えなくなることがある
  - 期限が近づいていることに気づかず、せっかくのクーポンを無駄にしてしまう
- どの店でどんなセールがあるか、すぐに確認したい
  - 買い物の際に、持っているクーポンを手早く確認したい
- 使ったクーポンと使っていないクーポンを分けて管理したい
  - どのクーポンがまだ使えるか、一目で分かるようにしたい

### 解決策

このアプリでは、すべてのクーポン・セール情報を一箇所に集約し、  
有効期限順に整理することで、効率的なクーポン活用をサポートする。

---

## 2-1. このアプリを選んだ理由

### なぜ「クーポン・セール整理帳」なのか

当初は「浪費警察」という、買い物前に理由を入力して必要度を判定するアプリを検討していました。  
しかし、以下の理由から「クーポン・セール整理帳」を採用することにしました：

#### 1. 実装の難易度が適切
- **浪費警察の場合**：
  - キーワードマッチングだけ：4年生の学習内容として物足りない
  - NLP/機械学習：実装が複雑すぎて、外部APIの費用もかかる可能性
  - 判定ロジックの妥当性を保証するのが難しい
- **クーポン整理帳の場合**：
  - 既存コードベースを最大限活用できる
  - データ管理やUI実装に集中でき、学習効果が高い
  - 段階的な機能追加がしやすい

#### 2. 既存コードベースの活用度が高い
- **既存コードには以下が実装済み**：
  - クーポン一覧表示（`CouponListView`）
  - クーポンアイテム表示（`CouponListItem`）
  - モーダル詳細表示（`CouponDetail`）
  - 画像表示機能
- **これらの構造をほぼそのまま流用可能**：
  - 大幅な改造が不要で、効率的に開発できる
  - 既存のUIパターンを理解しながら、新機能を追加できる

#### 3. 継続的な価値提供が可能
- **浪費警察の場合**：
  - 判定結果が「低」でも、ユーザーは買うことが多い（行動抑制効果が限定的）
  - 一度使ったら飽きられやすい可能性
- **クーポン整理帳の場合**：
  - 日常的に使える実用的なツール
  - データが蓄積されるほど価値が高まる
  - 統計機能や分析機能で長期的な学習にもつながる

#### 4. 4年次での拡張性
- データ永続化（ローカルストレージ）
- 通知機能（期限切れアラート）
- 統計・分析機能（節約額計算、使用パターン分析）
- これらの機能追加が自然に学習内容になる

#### 5. ユーザー体験の向上
- 判定結果に依存せず、ユーザー自身が管理できる
- シンプルで使いやすい機能設計
- 実用性が高く、継続利用につながりやすい

### 既存コードベースを活用する理由

このプロジェクトは、既存のクーポン表示アプリのコードベースを活用して開発します。

**理由：**
- 既に動作するUIコンポーネントが揃っており、開発効率が高い
- 既存コードの構造を理解しながら、機能を拡張できる
- ゼロから作るより、既存コードを改良する方が実践的な学習になる
- Flutterのベストプラクティスを既存コードから学べる

---

## 3. ターゲットユーザー

- クーポンアプリやECサイトのセールをよく利用する人
- 複数の店舗のクーポンを管理したい人
- 有効期限を見逃してクーポンを無駄にしてしまう人
- お得な情報を効率的に活用したい節約志向の人

---

## 4. 主な機能

### 最低限の機能（3年次実装）

| 機能名           | 内容                                           |
|------------------|------------------------------------------------|
| クーポン登録     | 店名、割引内容、有効期限、対象商品、画像を登録 |
| クーポン一覧表示 | 登録したクーポンをリスト形式で表示             |
| 詳細表示         | クーポンの詳細情報をモーダルで表示             |
| 有効期限表示     | 各クーポンの有効期限を表示                     |
| 使用済みマーク   | 使用したクーポンにマークを付けられる           |
| 削除機能         | 不要になったクーポンを削除                     |

### 拡張機能（4年次実装想定）

| 機能名           | 内容                                           |
|------------------|------------------------------------------------|
| ソート・フィルタ | 有効期限順、店名順、使用済み/未使用で並び替え  |
| 期限切れアラート | 有効期限が近づいたら通知                       |
| カテゴリ管理     | 店舗カテゴリ（飲食、衣類、日用品など）で分類   |
| 統計機能         | 使用したクーポンの節約額を計算・表示           |
| 検索機能         | 店名や商品名で検索                             |
| データ永続化     | アプリを閉じてもデータが残る（ローカルストレージ） |

---

## 5. 画面構成

### メイン画面
- **クーポン一覧画面**
  - 登録されたクーポンをリスト表示
  - 各アイテムには店名、割引内容、有効期限を表示
  - タップで詳細表示

### 詳細画面（モーダル）
- クーポン画像
- 店名
- 割引内容の詳細
- 有効期限
- 対象商品・条件
- 使用済みボタン
- 削除ボタン
- 閉じるボタン

### 登録画面（将来実装）
- 店名入力
- 割引内容入力
- 有効期限選択
- 対象商品入力
- 画像選択（カメラ/ギャラリー）

---

## 6. 技術スタック

- **フレームワーク**: Flutter
- **言語**: Dart
- **状態管理**: StatefulWidget（現時点）
- **データ保存**: ローカルストレージ（4年次実装予定）
- **通知**: Flutter Local Notifications（4年次実装予定）

---

## 7. 既存コードベースの活用

このプロジェクトは、既存のクーポン表示アプリのコードベースを活用して開発します。

### 活用できる既存コンポーネント

- **CouponListView**: クーポン一覧表示にそのまま利用可能
  - `ListView.builder`を使用したリスト表示の実装済み
  - アイテム数の動的管理が実装済み
- **CouponListItem**: クーポンアイテムの表示に利用可能
  - カード形式のレイアウト
  - 画像表示とコンテンツ表示の構造
- **CouponDetail**: クーポン詳細表示のモーダルとして利用可能
  - 半透明背景 + 中央カードのモーダル構造
  - 画像表示、テキスト表示、ボタン配置のレイアウト
- **MainPageWidget**: メインページの構造を活用
  - Stackを使用した画面遷移の実装
  - 状態管理のパターン
- **画像表示機能**: クーポン画像の表示に利用
  - エラーハンドリング付きの画像表示
  - アセット画像の読み込み

### 既存コードからの変更点

既存コードを活用しつつ、以下の変更・追加を行います：

1. **データモデルの追加**
   - クーポン情報（店名、割引内容、有効期限など）を管理するモデルクラス
   - 使用済みフラグ、カテゴリなどの属性追加

2. **登録機能の実装**
   - 新しい画面の追加（クーポン登録フォーム）
   - フォーム入力のバリデーション

3. **状態管理の拡張**
   - クーポンリストの動的な追加・削除・更新
   - 使用済みマークの状態管理

4. **機能の追加**
   - 有効期限の表示と色分け
   - ソート・フィルタ機能（4年次）
   - データ永続化（4年次）

---

## 8. 開発計画

### Phase 1（3年次・最低限機能）
1. クーポン登録画面の作成
2. クーポン一覧表示の実装（既存コード改造）
3. 詳細表示画面の実装（既存コード改造）
4. 使用済みマーク機能
5. 削除機能

### Phase 2（4年次・拡張機能）
1. データ永続化（SharedPreferences または SQLite）
2. ソート・フィルタ機能
3. 期限切れアラート（通知機能）
4. カテゴリ管理機能
5. 統計機能（節約額計算）
6. 検索機能
7. UI/UXの改善

---

## 9. 今後の拡張アイデア

- QRコード読み取り機能（クーポン登録を簡単に）
- 位置情報連携（近くの店舗のクーポンを優先表示）
- クラウド同期（複数デバイスで共有）
- クーポン共有機能（友達とクーポン情報を共有）
- 価格比較機能（同じ商品のクーポンを比較）

---

## Getting Started

This project is a Flutter application developed for coupon and sale management.

A few resources to get you started if this is your first Flutter project:

- [Lab: Write your first Flutter app](https://docs.flutter.dev/get-started/codelab)
- [Cookbook: Useful Flutter samples](https://docs.flutter.dev/cookbook)

For help getting started with Flutter development, view the
[online documentation](https://docs.flutter.dev/), which offers tutorials,
samples, guidance on mobile development, and a full API reference.
